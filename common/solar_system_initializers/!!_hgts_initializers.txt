frenzied_voidworms_system = {
    namelist = "voidworm_star_names"
    class = sc_black_hole
    prevent_anomalies = yes

    flags = { frenzied_voidworms_system }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = 30
        has_ring = no
    }

    planet = {
        class = pc_toxic
        size = 26
        orbit_distance = { min = 90 max = 110 }
        orbit_angle = { min = 90 max = 270 }

        init_effect = {
            save_event_target_as = toxic_planet_1
            if = {
                limit = {
                    has_toxoids = yes
                }
                set_planet_flag = toxic_terraforming_candidate
                add_modifier = {
                    modifier = toxic_terraforming_candidate
                }
            }
        }
    }
    planet = {
        class = pc_toxic
        size = 34
        orbit_distance = { min = 20 max = 40 }
        orbit_angle = { min = 90 max = 270 }

        init_effect = {
            save_event_target_as = toxic_planet_2
            if = {
                limit = {
                    has_toxoids = yes
                }
                set_planet_flag = toxic_terraforming_candidate
                add_modifier = {
                    modifier = toxic_terraforming_candidate
                }
            }
        }
    }
    planet = {
        class = pc_toxic
        size = 20
        orbit_distance = { min = 30 max = 70 }
        orbit_angle = { min = 90 max = 270 }

        init_effect = {
            save_event_target_as = toxic_planet_3
            if = {
                limit = {
                    has_toxoids = yes
                }
                set_planet_flag = toxic_terraforming_candidate
                add_modifier = {
                    modifier = toxic_terraforming_candidate
                }
            }
        }
    }

    init_effect = {
        create_frenzied_voidworms_country = yes
        create_fleet = {
            name = "NAME_Voidworms_Starbase"
            settings = { spawn_debris = no }
            effect = {
                set_owner = event_target:frenzied_voidworms_country
                create_ship = {
                    name = "NAME_Voidworms_Starbase"
                    design = "NAME_Voidworms_Starbase"
                    effect = {
                        set_ship_flag = frenzied_voidworms_starbase
                    }
                }
                set_location = {
                    target = event_target:toxic_planet_3
                    distance = 20
                    angle = random
                }
                save_event_target_as = nest_3
            }
        }
        create_fleet = {
            name = "NAME_Voidworms_Starbase"
            settings = { spawn_debris = no }
            effect = {
                set_owner = event_target:frenzied_voidworms_country
                create_ship = {
                    name = "NAME_Voidworms_Starbase"
                    design = "NAME_Voidworms_Starbase"
                    effect = {
                        set_ship_flag = frenzied_voidworms_starbase
                    }
                }
                set_location = {
                    target = event_target:toxic_planet_2
                    distance = 20
                    angle = random
                }
                save_event_target_as = nest_2
            }
        }
        create_fleet = {
            name = "NAME_Voidworms_Starbase"
            settings = { spawn_debris = no }
            effect = {
                set_owner = event_target:frenzied_voidworms_country
                create_ship = {
                    name = "NAME_Voidworms_Starbase"
                    design = "NAME_Voidworms_Starbase"
                    effect = {
                        set_ship_flag = frenzied_voidworms_starbase
                    }
                }
                set_location = {
                    target = event_target:toxic_planet_1
                    distance = 20
                    angle = random
                }
                save_event_target_as = nest_1
            }
        }
        create_frenzied_voidworms_fleet = { LOCATION = event_target:nest_1 }
        create_frenzied_voidworms_fleet = { LOCATION = event_target:nest_2 }
        create_frenzied_voidworms_fleet = { LOCATION = event_target:nest_3 }
    }
}