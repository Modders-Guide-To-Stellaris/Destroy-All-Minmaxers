@nukedCost = 10000
@nukedTime = 7200
@nukedBiomassCost = 5000

# toxic terraform
terraform_link = {
    from = "pc_toxic"
    to = "pc_desert"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from  = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_arid"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_savannah"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_continental"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_tropical"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_ocean"

    resources = {
        category = terraforming_ocean

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
        modifier = {
            factor = 4
            has_trait = trait_aquatic
        }
        modifier = {
            factor = 4
            has_trait = trait_robot_aquatic
        }
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_arctic"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_tundra"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_alpine"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_hive"

    resources = {
        category = terraforming

        inline_script = {
            script = terraform/triggered_costs
            ENERGY_COST = @nukedCost
            BIOMASS_COST = @nukedBiomassCost
        }
    }

    inline_script = {
        script = terraform/wilderness_biomass
    }

    duration = @nukedTime

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        OR = {
            has_technology = tech_hgts_detox
            has_country_flag = knights_detox
        }
        has_technology = "tech_climate_restoration"
        has_ascension_perk = "ap_hive_worlds"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_hive"

    resources = {
        category = terraforming

        cost = {
            energy = 10000
        }
    }

    duration = 3600

    potential = {
        exists = owner
        owner = { has_origin = origin_fallen_empire_hive }
        from = { has_modifier = toxic_terraforming_candidate }
    }
    condition = {
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}

terraform_link = {
    from = "pc_toxic"
    to = "pc_volcanic"

    resources = {
        category = terraforming

        cost = {
            energy = 10000
        }
    }

    duration = 3600

    potential = {
        exists = owner
        from = { has_modifier = toxic_terraforming_candidate }
        has_country_flag = allow_terraforming_into_volcanic
    }
    condition = {
        has_ascension_perk = "ap_detox"
        has_technology = "tech_climate_restoration"
    }

    effect = {
        from  = { detox_hangover = yes }
    }

    ai_weight = {
        weight = 5
    }
}