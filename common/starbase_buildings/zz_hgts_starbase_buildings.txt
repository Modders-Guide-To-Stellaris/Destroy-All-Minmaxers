# ring_psi_corps = {
#     icon = "GFX_orbitalring_psi_corps"
#     construction_days = 360
#     starbase_type = orbital_ring
#
#     potential = {
#         host_has_dlc = "Utopia"
#         exists = owner
#         owner = {
#             has_tradition = tr_psionics_psi_corps
#         }
#         planet = {
#             NOR = {
#                 has_modifier = resort_colony
#                 has_modifier = slave_colony
#             }
#         }
#         is_orbital_ring = yes
#     }
#
#     possible = {
#         planet = {
#             NOR = {
#                 has_building_construction = building_psi_corps
#                 has_building = building_psi_corps
#             }
#         }
#     }
#
#     abort_trigger = {
#         exists = owner
#         NOT = {
#             owner = { has_tradition = tr_psionics_psi_corps }
#         }
#     }
#
#     destroy_trigger = {
#         exists = owner
#         NOT = {
#             owner = { has_tradition = tr_psionics_psi_corps }
#         }
#     }
#
#     planet_modifier = {
#         job_telepath_add = 300
#         planet_stability_add = 5
#     }
#
#     triggered_planet_modifier = {
#         potential = {
#             planet = {
#                 num_assigned_jobs = {
#                     job = telepath
#                     value > 0
#                 }
#             }
#         }
#         psionic_pop_bonus_workforce_mult = 1
#         mult = planet.value:psionic_workforce_from_telepaths
#     }
#
#     triggered_planet_modifier = {
#         custom_tooltip = "psionic_bonus_workforce_from_telepaths_tt"
#     }
#
#     resources = {
#         category = starbase_buildings
#         cost = {
#             alloys = 200
#             rare_crystals = 300
#         }
#
#         upkeep = {
#             energy = 5
#             rare_crystals = 2
#         }
#     }
#
#     ai_build_at_chokepoint = yes
#     ai_build_outside_chokepoint = yes
#
#     ai_weight = {
#         weight = 50
#         modifier = {
#             factor = 4
#             planet = {
#                 OR = {
#                     has_designation = col_bureau
#                     has_designation = col_bureau_spiritualist
#                 }
#             }
#         }
#     }
# }

#Fix fleet accademy not available for beastport

fleet_academy = {
	icon = "GFX_spaceport_module_fleet_academy"
	construction_days = 360

	potential = {
		exists = owner
		owner = { has_technology = tech_interstellar_fleet_traditions }

		is_normal_starbase = yes
		is_space_citadel = no
	}

	possible = {
		OR = {
			has_starbase_module = shipyard
			has_starbase_module = hatchery
			has_starbase_module = beastport
			starbase_buildable_is_in_queue_before = {
				first = shipyard
				second = fleet_academy
			}
				starbase_buildable_is_in_queue_before = {
				first = hatchery
				second = fleet_academy
			}
			starbase_buildable_is_in_queue_before = {
				first = beastport
				second = fleet_academy
			}
		}
	}

	ship_modifier = {
		ship_starting_experience_add = 100
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}

		upkeep = {
			energy = 2
		}
	}

	show_in_tech = "tech_interstellar_fleet_traditions"

	ai_weight = {
		weight = 100 #use same weight here - ai weighting is done in starbase_types.txt
		modifier = {
			factor = 0
			count_starbase_modules = {
				type = shipyard
				count < 2
			}
		}
	}
}