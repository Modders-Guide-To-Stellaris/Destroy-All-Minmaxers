# arc_furnace_upkeep_bonus = {
#     base = 0
#     complex_trigger_modifier = {
#         trigger = any_system_planet
#         trigger_scope = solar_system
#         parameters = {
#             has_modifier = $FURNACE_MOD$
#         }
#         mode = add
#         mult = $FURNACE_MULT$
#     }
# }

hgts_num_total_empires = {
    base = 0
    complex_trigger_modifier = {
        trigger = count_country
        mode = add
        parameters = {
            limit = {
                exists = owner
                owner = {
                    is_country_type = default
                }
            }
        }
    }
}

hgts_num_total_gestalts = {
    base = 0
    complex_trigger_modifier = {
        trigger = count_country
        mode = add
        parameters = {
            limit = {
                exists = owner
                owner = {
                    AND = {
                        is_country_type = default
                        is_gestalt = yes
                    }
                }
            }
        }
    }
}

hgts_gestalt_limit = {
    complex_trigger_modifier = {
        trigger = count_country
        mode = add
        parameters = {
            limit = {
                owner = {
                    is_country_type = default
                }
            }
        }
    }
    divide = 4
    floor = yes
}

hgts_gestalts_over_limit = {
    base = 0
    add = value:hgts_num_total_gestalts
    subtract = value:hgts_gestalt_limit
}

hgts_shroud_stone_count = {
    base = 0

    complex_trigger_modifier = {
        trigger = count_deposits
        mode = add
        parameters = {
            category = deposit_cat_blockers
            type = d_shroudstone
        }
    }
}

hgts_shroud_farm_count = {
    base = 0

    complex_trigger_modifier = {
        trigger = count_deposits
        mode = add
        parameters = {
            category = deposit_cat_blockers
            type = d_aura_blocker
        }
    }
}

hgts_excluded_blocker_count = {
    base = 0
    add = value:hgts_shroud_stone_count
    add = value:hgts_shroud_farm_count
}

hgts_total_pops_on_planet = {
    complex_trigger_modifier = {
        trigger = count_owned_pop_amount
        trigger_scope = planet
        parameters = {
            ##shouldnt NEED parameters
        }
        mode = add
    }
}

hgts_total_nascentchild_pops_on_planet = {
    complex_trigger_modifier = {
        trigger = count_owned_pop_amount
        trigger_scope = planet
        parameters = {
            limit = {
                AND = {
                    is_sapient = no
                    has_trait = hgts_better_nascent
                }
            }
        }
        mode = add
    }
}

hgts_child_ratio = {
    base = 0
    add = value:hgts_total_nascentchild_pops_on_planet
    divide = value:hgts_total_pops_on_planet
}